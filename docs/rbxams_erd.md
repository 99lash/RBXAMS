# ERD Documentation

## Overview

This document provides the **Entity Relationship Diagram (ERD)** for the project database.
It serves as a reference for developers to understand the database schema, relationships, and data flow.

The ERD can be viewed online via **dbdocs.io** at: *[ERD Link](https://dbdocs.io/asherjohn48/rbxams)*


For quick references of visual representation of RBXAMS ERD: *[ERD PDF](rbxams_erd.pdf)*

---

## Database Entities

### **1. Users & Roles**

* **user\_roles** → stores user role definitions (currently only `admin`).
* **users** → system users (only one user exists for this project, but designed for future expansion).

### **2. Accounts (Assets)**

* Includes `account_type` (`pending`, `fastflip`)
* **account\_status** → lifecycle state of an account (e.g., `sold`, `pending`, `unpend`, `retrieved`).
* **accounts** → Roblox accounts (assets) managed by the system.

  * Tracks financial values (`cost_php`, `price_php`, `profit_php`, `sold_rate_usd`) and soft deletion.

### **3. Transactions**

* **daily\_transactions** → raw log of buy/sell activities.

  * Includes `account_type` (`pending`, `fastflip`) and `action` (`buy`, `sell`).
  * Used as the source of truth for summarization.

### **4. Summaries**

* **daily\_summary** → daily aggregated data generated by an automated script.

  * Summarized per **account\_type** and **transaction type**.
  * Stores totals of robux, PHP, and profit per day.

---

## Relationships

* A **user\_role** → can be linked to many **users**.
* A **user** → can own many **accounts**.
* Each **account** → belongs to an **account\_type** and has an **account\_status**.
* **daily\_transactions** → always tied to an **account**.
* **daily\_summary** → aggregates transactions grouped by **account\_type** and **transaction type**.

---

## Notes

* **Currencies**: Locked to PHP and USD only.
* **Transaction Types**: Limited to `pending` and `fastflip`.
* **Actions**: Limited to `buy` and `sell`.
* **Soft Deletion**: Accounts use `is_deleted` flag instead of hard deletion.
* **Normalization**: Schema is normalized to avoid duplicate fields (e.g., no separate columns for pending vs fastflip in summary).

---

## Visual Reference

You can always generate and view the latest ERD diagram using **dbdiagram/dbdocs**.
*[Open ERD public documentation](https://dbdocs.io/asherjohn48/rbxams)*

---